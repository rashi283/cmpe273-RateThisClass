<div class="page-header">
   <h1>Rate this class!</h1>
</div>
<div class="well well-lg" >
   <div class="row">
    <div class="col-xs-5">
    <h4 style="text-align:justify;"><strong>Class: </strong>{{thisclass.className}} </h4>
    </div>
    <div class="col-xs-5">
   <div ng-model="thisclass.totalRating"  class="col-xs-12,star-rating"  star-rating avg-rating-value="thisclass.totalRating +1" data-max="5" readonly="true"></div>
   </div>
   
   </div>
   <h4 style="text-align:justify;"><strong>Professor: </strong>{{thisclass.professor}}</h4>
   <h4 style="text-align:justify;"><strong>Session: </strong>{{thisclass.session}}</h4>
</div>
<div ng-hide="thisclass.userRated">
 <p class="lead" ng-hide="userLoggedIn" style="color:red;font-size:15px;"> Please login to rate or comment!</p>

   <p class="lead" style="color:blue;font-size:15px;"> Choose an item to rate:</p>
      <form role="form" ng-submit="rate()">
	      <div ng-repeat="item in thisclass.items">
	          <div class="row">
	             <div class="col-xs-5">
	                 <label>
				         <input type="radio" name="item" ng-model="thisclass.userRate" value="{{item._id}}" style="font-size:30px;">
				                {{item.text}}
				     </label>
				     <span class="badge badge-success">{{item.averageRating}}</span>
				 </div>
				 <div ng-init="rating = star.rating + 1"></div>
                 <div class="col-xs-12,star-rating" star-rating rating-value="rating" data-max="5" on-rating-selected="rateFunction(rating)" ></div>
				 <div class="col-xs-5" align="right">
				     <button class="btn btn-primary pull-right" ng-disabled="userRated" type="submit" style="width:75px; height:35px;">Rate &raquo;</button>
			     </div>
			     
			       
	          </div>
	          <br>
		  </div>
	</form>
	<p><hr></p>
	<div class="row">
            <div class="col-xs-5">
              <select ng-model="thisclass.items.category" class="form-control" title="Choose a category">
                  <option value="Lab">Lab</option>
                  <option value="Assignment">Assignment</option>
                  <option value="Lecture">Lecture</option>
                  <option value="Project">Project</option>
              </select>
            </div>
             <div class="col-xs-5" align="left"> 
               <input type="text" ng-model="thisclass.items.text" class="form-control" placeholder="Enter item text"><br>
            </div>
            <div class="col-xs-12"> 
                <button class="btn btn-primary pull-right" ng-disabled="!userLoggedIn" type="submit" style="width:100px; height:30px;" ng-click="addItem()">Add item &raquo;</button>
            </div>
             </div>
             <p><hr></p>
            <div class="row" >
          <div class="col-xs-5" align="left" >
           <label> Comments </label>
          </div>
           <div class="col-xs-5" align="left" >
           <textarea rows="4" cols="50" ng-model="thisclass.comments.text" class="form-control" placeholder="Enter comments for class" onfocus="clearContents(this);"></textarea>
           </div>
            <div class="col-xs-12"> 
                <button class="btn btn-primary pull-right" ng-disabled="!userLoggedIn" type="submit" style="width:100px; height:30px;" ng-click="addComment()">Add Comments</button>
            </div>
             
          </div>
          
           <div ng-repeat="comment in thisclass.comments">
             <div >
           <label >{{comment.text}}</label><br>
           </div>
          </div>            
         
</div>
</div>
<p><hr></p>
		  
<div ng-show="thisclass.userRated">
	<table class="result-table">
    	<tbody>
              <tr ng-repeat="item in thisclass.items">
                <td>{{item.text}}</td>
                <td>
                  <table style="background-color: lightblue; width: {{item.averageRating}}; text-align: right">
                    <tr><td>{{item.averageRating}}</td></tr>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>  
          <p><em><span ng-show="thisclass.userItem">You rated for <strong>{{thisclass.userItem.text}}</strong>.</span>
          The total rating of the class is <strong>{{thisclass.totalRating}}</strong>. 
          </em></p>
</div>
          <p><hr></p>
          <div class="row">
            <div class="col-xs-6">          
               <a href="#/classes" ng-click="delItem()" class="btn btn-small btn-danger" ng-disabled="!userLoggedIn">Delete Class</a>
             
               <a href="#/classes" class="btn btn-default" role="button"><span class="glyphicon glyphicon-arrow-left"></span> Back to Class List</a>
            </div>
          </div>
	   
<p><hr></p>

          

          